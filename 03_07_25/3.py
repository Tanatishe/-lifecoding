"""
Римские цифры представлены семью различными символами:
I, V, X, L, C, D, M

Символ   Значение
I        1
V        5
X        10
L        50
C        100
D        500
M        1000

Например:
2 записывается как II (две единицы, сложенные вместе).
12 записывается как XII (X + II).
27 записывается как XXVII (XX + V + II).

Римские цифры обычно пишутся от большего к меньшему слева направо. Однако цифра для четырёх не IIII. Вместо этого число четыре записывается как IV, так как единица стоит перед пятью, и мы её вычитаем. Тот же принцип применим к числу девять (IX).

Существует шесть случаев, когда используется вычитание:
- I можно поместить перед V (5) и X (10), чтобы получить 4 и 9.
- X можно поместить перед L (50) и C (100), чтобы получить 40 и 90.
- C можно разместить перед D (500) и M (1000), чтобы получить 400 и 900.

Дано: строка s — римское число. Преобразуйте её в целое число.
"""


def roman_to_int(s: str) -> int:
    key_dict = {
        "I": 1,
        "V": 5,
        "X": 10,
        "L": 50,
        "C": 100,
        "D": 500,
        "M": 1000,
    }
    result = 0
    for i in range(len(s)):
        if i < len(s) - 1 and key_dict[s[i]] < key_dict[s[i + 1]]:
            result -= key_dict[s[i]]
        else:
            result += key_dict[s[i]]
    return result


# Тесты для roman_to_int

test_cases = [  # (римское, ожидаемое)
    ("I", 1),
    ("II", 2),
    ("III", 3),
    ("IV", 4),
    ("V", 5),
    ("VI", 6),
    ("VII", 7),
    ("VIII", 8),
    ("IX", 9),
    ("X", 10),
    ("XI", 11),
    ("XII", 12),
    ("XIII", 13),
    ("XIV", 14),
    ("XV", 15),
    ("XVI", 16),
    ("XVII", 17),
    ("XVIII", 18),
    ("XIX", 19),
    ("XX", 20),
    ("XXI", 21),
    ("XXIV", 24),
    ("XXIX", 29),
    ("XXX", 30),
    ("XL", 40),
    ("XLIV", 44),
    ("XLIX", 49),
    ("L", 50),
    ("LI", 51),
    ("LIV", 54),
    ("LIX", 59),
    ("LX", 60),
    ("XC", 90),
    ("XCIX", 99),
    ("C", 100),
    ("CI", 101),
    ("CIV", 104),
    ("CIX", 109),
    ("CL", 150),
    ("CC", 200),
    ("CCC", 300),
    ("CD", 400),
    ("D", 500),
    ("DC", 600),
    ("DCC", 700),
    ("DCCC", 800),
    ("CM", 900),
    ("M", 1000),
    ("MCMXCIV", 1994),
    ("MM", 2000),
    ("MMXXIII", 2023),
    ("MMMCMXCIX", 3999),
]

for idx, (roman, expected) in enumerate(test_cases, 1):
    result = roman_to_int(roman)
    print(f"Test {idx}: {roman} → {result} (ожидалось: {expected})")
    assert result == expected

print("Все тесты пройдены!")

